(function(a){typeof module!="undefined"?module.exports=a:this.molt=a})(function(){var a="getAttribute",b="data-",c=[],d=[],e=[],f,g=function(){var a,g,h,j,k,l,m=W();f=-1;while(j=e[++f]){l=(h=j.getAttribute(b+"url")).match(/\{\s*(.*?)\s*\}/)[1].split(/\s*,\s*/),a=l.length;while(a--){k=l[a].split(":"),k.length==1&&(k[1]=k[0]);if(m>k[0].match(/^!?(.+)/)[1])break}if(k[0].charAt(0)=="!")j.style.display="none";else{j.style.display=="none"&&((g=j.getAttribute(b+"display"))?j.style.display=g:j.style.display="inline"),j.src=h.replace(/\{.+\}/g,k[1]),g=c.length;while(g--)c[g]==j&&d[g].apply(j,[k[1]])}}};return{listen:function(a,b){c.push(a),d.push(b)},discover:function(){var c,d=document.getElementsByTagName("img"),h="discovered";f=-1;while(c=d[++f])c[a](b+"url")&&!c[a](b+h)&&(c.setAttribute(b+h,h),e.push(c));g(),W(g);return e}}}())